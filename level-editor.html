<!DOCTYPE HTML>
<html>
    <head>
        <script>
            window.__EDITOR_CONSTANT__ = true;
        </script>
        <script src="node_modules/vue/dist/vue.js"></script>
        <script src="node_modules/vue-async-computed/dist/vue-async-computed.js"></script>
        <script src="node_modules/jquery/dist/jquery.min.js"></script>
        <link rel="stylesheet" href="src/editor/client/style.css">
        <script src="build/editor-client.js"></script>
    </head>
    <body>
        <div id="app">
            <st-editor
                :server="serverLiaison"
            ></st-editor>
        </div>

        <svg
            style="position: absolute; pointer-events: none;"
        >
            <defs>
                <pattern id="up-arrows-pattern" x="0" y="0" width="20" height="25" patternUnits="userSpaceOnUse">
                    <polyline
                        points="5,8 10,0 10,20 10,0 15,8"
                        stroke="rgba(0, 0, 0, 0.7)" stroke-width="1.5" fill="none"
                    ></polyline>
                </pattern>
            </defs>
        </svg>

        <script>
            var projectName = window.location.hash.substring(1);
            while(!projectName) {
                projectName = prompt("Project folder name:") || "";
            }
            window.location.hash = "#" + projectName;
            var serverLiaison = new splitTime.editor.level.ServerLiaison(projectName);

            new Vue({
                el: "#app",
                data: {
                    serverLiaison: serverLiaison
                }
            });

            window.onbeforeunload = function() {
                return true;
            };
        </script>
    </body>
</html>
